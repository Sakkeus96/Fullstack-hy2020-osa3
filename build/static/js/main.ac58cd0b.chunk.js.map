{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services/person.js","components/Notification.js","App.js","index.js"],"names":["Filter","text","newFilter","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handlePersonChange","newNumber","handleNumberChange","onSubmit","type","Person","person","filter","handleButtonClick","lowerslice","name","slice","length","toLowerCase","number","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","style","className","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","errorMessage","setErrorMessage","setStyle","useEffect","personService","initialPersons","event","targetId","target","find","n","window","confirm","_id","catch","error","setTimeout","person1","preventDefault","personObject","map","indexOf","changePerson","returnedPerson","concat","console","log","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ac58cd0b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ text, newFilter, handleFilterChange }) => \r\n{\r\n  return (\r\n    <form>\r\n      <div>\r\n        {text} <input\r\n        value={newFilter}\r\n        onChange={handleFilterChange}\r\n        />\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\nexport default Filter","import React from 'react';\r\n\r\nconst PersonForm= ({addPerson ,newName, handlePersonChange, newNumber, handleNumberChange}) =>\r\n{\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n            name: <input \r\n            value={newName}\r\n            onChange={handlePersonChange}\r\n            />\r\n        </div>\r\n        <div>\r\n            number: <input \r\n            value={newNumber}\r\n            onChange={handleNumberChange}\r\n            />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Person = ({ person, filter, handleButtonClick }) =>\r\n{\r\n    var slice = person.name.slice(0, filter.length)\r\n    var lowerslice = slice.toLowerCase()\r\n    var lowerfilter = filter.toLowerCase()\r\n    if (lowerfilter === lowerslice || filter === '') {\r\n      return (\r\n        <div>\r\n          {person.name} {person.number}\r\n          <button onClick={handleButtonClick} id={person.id}>\r\n            Delete\r\n          </button>\r\n        </div>\r\n      )\r\n\t}\r\n    return null\r\n}\r\n\r\nexport default Person","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(baseUrl + `/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\nexport default { getAll, create, deletePerson, update }","import React from 'react'\r\n\r\nconst Notification = ({ message, style }) => {\r\n  if (message === null) {\r\n    return null\r\n\t}\r\n  return (\r\n    <div className={style}>\r\n      {message}\r\n    </div>\r\n\t)\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Person from './components/Person'\r\nimport personService from './services/person'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n  const [ style, setStyle ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addPerson = (event) => \r\n  {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    var names = persons.map((person) => person.name)\r\n    const id = names.indexOf(personObject.name)\r\n    if (id !== -1) \r\n    {\r\n      if (window.confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one?`)) \r\n      {\r\n        const person = persons.find(n => n.name === personObject.name)\r\n        const changePerson = { ...person, number: newNumber}\r\n        personService\r\n          .update(person._id, changePerson).then(returnedPerson => {\r\n            setPersons(persons.map(person => person.name !== changePerson.name ? person : returnedPerson))\r\n            setErrorMessage(\r\n              `${personObject.name} number changed` \r\n            )\r\n            setStyle(\"success\")\r\n            setTimeout(() => {\r\n              setErrorMessage(null) \r\n            }, 2000)\r\n          })\r\n          .catch(error => {\r\n            setErrorMessage(\r\n              `Person ${personObject.name} was already deleted from server` \r\n\t\t\t      )\r\n            setStyle(\"error\")\r\n            setTimeout(() => {\r\n              setErrorMessage(null) \r\n\t\t\t      }, 4000)\r\n            setPersons(persons.filter(n => n.id !== id + 1))\r\n\t\t\t\t\t})\r\n        setNewName('')\r\n        setNewNumber('')\r\n\t\t  }\r\n\t  }\r\n    else {\r\n      personService\r\n        .create(personObject)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.concat(returnedPerson))\r\n            setErrorMessage(\r\n              `Added ${personObject.name}` \r\n            )\r\n            setStyle(\"success\")\r\n            setTimeout(() => {\r\n              setErrorMessage(null) \r\n            }, 2000)\r\n          })\r\n          .catch(error => {\r\n            console.log(error.response.data)\r\n            setErrorMessage(error.response.data.error)\r\n            setStyle(\"error\")\r\n            setTimeout(() => {\r\n              setErrorMessage(null) \r\n            }, 4000)\r\n          })\r\n      setNewNumber('')\r\n      setNewName('')\r\n    }\r\n  }\r\n  \r\n  const handlePersonChange = (event) => \r\n  {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => \r\n  {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => \r\n  {\r\n    setNewFilter(event.target.value)\r\n  }\r\n  \r\n  const handleButtonClick = (event) =>\r\n  {\r\n    const targetId = event.target.id - 0\r\n    const person = persons.find(n => n.id === targetId)\r\n    if (window.confirm(`Delete ${person.name}?`)) \r\n    {\r\n      personService\r\n        .deletePerson(person._id)\r\n        .catch(error => {\r\n          setErrorMessage(\r\n            `Person ${person.name} was already deleted from server` \r\n\t\t\t    )\r\n          setStyle(\"error\")\r\n          setTimeout(() => {\r\n            setErrorMessage(null) \r\n\t\t\t    }, 4000)\r\n\t\t\t\t})\r\n      setPersons(persons.filter(person1 => person1.id !== person.id))\r\n      setErrorMessage(\r\n        `${person.name} removed` \r\n\t\t\t)\r\n      setStyle(\"success\")\r\n      setTimeout(() => {\r\n        setErrorMessage(null) \r\n\t\t\t}, 2000)\r\n\t\t}\r\n\t}\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={errorMessage} style={style} />\r\n      <Filter text='filter shown with' newFilter={newFilter} handleFilterChange={handleFilterChange} /> \r\n      <h2>Add a new</h2>\r\n      <PersonForm addPerson={addPerson} newName={newName} handlePersonChange={handlePersonChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\r\n      <h2>Numbers</h2>\r\n      {persons.map(person =>\r\n        <Person key={person.name} person={person} filter={newFilter} handleButtonClick={handleButtonClick} />\r\n      )}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n\n\n"],"sourceRoot":""}